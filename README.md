# Clean Home (æç®€ä¸ªäººä¸»é¡µ)

[ğŸ‡ºğŸ‡¸ English Documentation](./README_EN.md)

Clean Home æ˜¯ä¸€ä¸ªåŸºäº Vue 3 + Vite é‡æ„çš„æç®€é£æ ¼ä¸ªäººä¸»é¡µã€‚æœ¬é¡¹ç›®æºäºå¯¹å¼€æºé¡¹ç›® [imsyy/home](https://github.com/imsyy/home) çš„æ·±åº¦é‡æ„ã€‚åœ¨ä¿ç•™åŸç‰ˆä¼˜ç§€çš„è§†è§‰è®¾è®¡åŒæ—¶ï¼Œç§»é™¤äº†ç¹é‡çš„ UI æ¡†æ¶ä¾èµ–ï¼Œé‡å†™äº†åº•å±‚é€»è¾‘ï¼Œå®ç°äº†æ›´è½»é‡ã€æ›´ç¨³å®šã€å“åº”å¼æ›´ä½³çš„ä½“éªŒã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- âš¡ï¸ **è½»é‡æé€Ÿ**ï¼šç§»é™¤é‡å‹ UI åº“ï¼Œé‡‡ç”¨åŸç”Ÿ CSS Grid/Flex å¸ƒå±€ï¼ŒåŠ è½½é€Ÿåº¦æ˜¾è‘—æå‡ã€‚
- ğŸ›¡ï¸ **è¶…å¼ºå®¹é”™å®šä½**ï¼šå¤©æ°”å®šä½é‡‡ç”¨ **å¤šä¸ª API è½®è¯¢ + é«˜å¾·/å’Œé£å…œåº•**ï¼Œç¡®ä¿å¤©æ°”æ•°æ®ç¨³å®šæ˜¾ç¤ºã€‚
- ğŸ–¼ï¸ **æ™ºèƒ½èƒŒæ™¯**ï¼šæ”¯æŒ **`src/assets/backgrounds/` ç›®å½•å…¨æ ¼å¼è‡ªåŠ¨æ‰«æ**ï¼Œé‡‡ç”¨ **åŠ¨æ€æŒ‰éœ€åŠ è½½**ï¼Œæå¤§å‡å°é¦–å±ä½“ç§¯ã€‚
- â™¿ **æ— éšœç¢å‹å¥½**ï¼šå…¨ç«™æŒ‰é’®è¯­ä¹‰åŒ–ï¼Œé€‚é…å±å¹•é˜…è¯»å™¨ï¼Œè®©æ‰€æœ‰ç”¨æˆ·éƒ½èƒ½é¡ºç•…ä½¿ç”¨ã€‚
- ğŸš€ **æ€§èƒ½æè‡´**ï¼šå†…ç½® Gzip å‹ç¼©é…ç½®ï¼Œå­—ä½“é¢„åŠ è½½ï¼Œéé˜»å¡å¼ UI æ¸²æŸ“ï¼Œç§’å¼€ä½“éªŒã€‚
- ğŸ“Š **é›†æˆæ•°æ®æµ**ï¼šæ”¯æŒ **è®¿å®¢ç»Ÿè®¡ (ä¸è’œå­)** å’Œ **å»ºç«™æ—¶é—´è‡ªåŠ¨è®¡ç®—**ï¼Œä¸”åŠŸèƒ½å¯é…ç½®å¼€å…³ã€‚
- ğŸ§­ **ç½‘å€å¯¼èˆª**ï¼šå†…ç½®ç²¾ç¾çš„ç½‘å€å¯¼èˆªé¡µï¼Œæ”¯æŒåˆ†ç»„æŠ˜å ã€æœç´¢è¿‡æ»¤ï¼Œå¯ä½œä¸ºæµè§ˆå™¨ä¸»é¡µä½¿ç”¨ã€‚
- ğŸ–¥ï¸ **å¯è§†åŒ–åå°**ï¼šæä¾› `/admin` ç®¡ç†é¢æ¿ï¼Œæ”¯æŒåœ¨çº¿ä¿®æ”¹ç«™ç‚¹é…ç½®ã€ç®¡ç†å¯¼èˆªé“¾æ¥ã€ä¸Šä¼ å›¾ç‰‡ï¼Œæ‰€æœ‰ä¿®æ”¹è‡ªåŠ¨æäº¤åˆ° GitHub ä»“åº“ã€‚

## ğŸ› ï¸ é…ç½®ä¸ç¯å¢ƒå˜é‡

æœ¬é¡¹ç›®ä½¿ç”¨ç¯å¢ƒå˜é‡æ¥é…ç½®æ ¸å¿ƒåŠŸèƒ½ï¼ˆå¤©æ°”ã€åœ°å›¾ï¼‰ä»¥åŠåå°ç®¡ç†ç³»ç»Ÿã€‚

### ç¯å¢ƒå˜é‡åˆ—è¡¨

æ— è®ºä½ é€‰æ‹©å“ªç§éƒ¨ç½²æ–¹å¼ï¼Œè¯·å‚è€ƒä¸‹è¡¨å‡†å¤‡ç¯å¢ƒå˜é‡ã€‚

| å˜é‡å | ä½œç”¨ | é€‚ç”¨åŠŸèƒ½ | å¿…å¡« | ç¤ºä¾‹ |
| :--- | :--- | :--- | :--- | :--- |
| `VITE_AMAP_KEY` | é«˜å¾· Web æœåŠ¡ Key | **å¤©æ°”/å®šä½** | âœ… | `ä½ çš„é«˜å¾·Key` |
| `VITE_QWEATHER_KEY` | å’Œé£å¤©æ°” Web æœåŠ¡ Key | **å¤©æ°”** | âœ… | `ä½ çš„å’Œé£Key` |
| `VITE_QWEATHER_HOST`| å’Œé£å¤©æ°” API åŸŸå | **å¤©æ°”** | âœ… | `https://api.qweather.com` (å…è´¹ç‰ˆä½¿ç”¨ `devapi`) |
| `VITE_MUSIC_API` | Meting éŸ³ä¹ API åœ°å€ | **éŸ³ä¹æ’­æ”¾å™¨** | âŒ | `https://api.injahow.cn/meting/` |
| `GITHUB_TOKEN` | GitHub Token (éœ€ `repo` æƒé™) | **åå°ç®¡ç†** | âš ï¸* | `ghp_xxxxxxxx` |
| `REPO_OWNER` | GitHub ç”¨æˆ·å | **åå°ç®¡ç†** | âš ï¸* | `yourname` |
| `REPO_NAME` | ä»“åº“åç§° | **åå°ç®¡ç†** | âš ï¸* | `Clean-Home` |
| `ADMIN_PASSWORD` | åå°ç™»å½•å¯†ç  | **åå°ç®¡ç†** | âš ï¸* | `password123` |
| `BRANCH_NAME` | ç›®æ ‡åˆ†æ”¯ (é»˜è®¤ `main`) | **åå°ç®¡ç†** | âŒ | `main` |

> **âš ï¸ æ³¨æ„**ï¼š`*` æ ‡è®°çš„å˜é‡ç”¨äºå¯ç”¨åå°ç®¡ç†åŠŸèƒ½ã€‚å¦‚æœä¸éœ€è¦åå°ç®¡ç†ï¼Œå¯ä»¥ä¸é…ç½®è¿™äº›å˜é‡ã€‚

### å¡«å†™ä½ç½®

1.  **æœ¬åœ°å¼€å‘**: åˆ›å»º `.env` æ–‡ä»¶å¡«å…¥ã€‚
2.  **Vercel / Cloudflare Pages**: åœ¨å¹³å°çš„ **Settings -> Environment Variables** ä¸­å¡«å…¥ã€‚
3.  **Docker**: åœ¨ `docker run` å‘½ä»¤ä¸­ä½¿ç”¨ `-e` å‚æ•°ä¼ å…¥ã€‚

### è‡ªå»ºå…œåº• API é…ç½®

å¦‚æœåœ¨ `.env` ä¸­æ²¡æœ‰é…ç½® Keyï¼Œæˆ–è€…å…è´¹ API å‡å¤±è´¥ï¼Œé¡¹ç›®å°†ä½¿ç”¨æˆ‘è‡ªå»ºçš„å…œåº• APIã€‚
å¦‚æœæœ‰è‡ªå·±çš„ï¼Œå¯ä»¥åœ¨ `src/config/index.js` ä¸­çš„ `apiEndpoints` å¯¹è±¡é‡Œä¿®æ”¹å…œåº•æ¥å£åœ°å€ã€‚


## âš™ï¸ èµ„æºæ–‡ä»¶

- **èƒŒæ™¯å›¾**ï¼šä¸ºäº†å¯ç”¨èƒŒæ™¯å›¾è‡ªåŠ¨æ‰«æå’Œä¼˜åŒ–æ„å»ºï¼Œè¯·å°†æ‰€æœ‰èƒŒæ™¯å›¾ç‰‡æ–‡ä»¶ç§»åŠ¨åˆ°ï¼š`src/assets/backgrounds/` ç›®å½•ï¼Œæ”¯æŒjpgï¼Œpngï¼Œwebpç­‰æ ¼å¼ï¼Œä¸éœ€è¦æ”¹å
- **å›¾æ ‡ä¼˜åŒ–**ï¼šç¡®ä¿ Logo å’Œ Favicon ä½äºï¼š`public/icon/`


## ğŸ“ å†…å®¹å®šåˆ¶æŒ‡å—


æ‰€æœ‰é¡µé¢ä¸Šçš„æ–‡å­—ã€é“¾æ¥ã€API å¼€å…³å’Œå…œåº•é…ç½®ï¼Œéƒ½åœ¨ `src/config/index.js` ä¸­é›†ä¸­ç®¡ç†ã€‚


## ğŸ”Œ API æ¥å£è¯´æ˜

### å®šä½ä¸å¤©æ°”é€»è¾‘

æœ¬é¡¹ç›®é‡‡ç”¨ **å¤šçº§é™çº§ç­–ç•¥** æ¥ç¡®ä¿æ•°æ®å§‹ç»ˆå¯ç”¨ï¼š

1. ç”±äºé«˜å¾· ipv6 æ”¯æŒä¸ä½³ï¼Œä¼˜å…ˆå°è¯•å…è´¹ API **[Vore](https://api.vore.top)**ï¼Œ**[Xxapi](https://xxapi.cn)**ï¼Œè‡ªåŠ¨è·å–ä½ç½®ã€‚
2.  è‹¥å¤±è´¥ï¼Œ**å°è¯• [é«˜å¾·IPå®šä½](https://console.amap.com/dev/key/app)** éœ€åœ¨ `.env` é…ç½® `VITE_AMAP_KEY`ã€‚
3.  è‹¥ä»å¤±è´¥ï¼Œå°è¯•è‡ªå»ºå…œåº• APIï¼Œæœ‰è‡ªå·±çš„å¯ä»¥åœ¨ `src/config/index.js` ä¸­é…ç½® `userGeoHosts`ã€‚
4.  æœ€åè·å–å¤©æ°”ï¼šæ ¹æ®è·å–åˆ°çš„ä½ç½®ï¼Œä¾æ¬¡å°è¯• **[å’Œé£å¤©æ°”](https://id.qweather.com)** -> **[é«˜å¾·å¤©æ°”](https://console.amap.com/dev/index)** -> **[vore å¤©æ°”](https://api.vore.top/api/Weather)** -> **[è‡ªå»ºå…œåº•](https://api.ovoxo.cc)**ï¼Œæœ‰ä¸€ä¸ªè¿”å›ç»“æœä¼šè‡ªåŠ¨åœæ­¢ï¼Œå…¨éƒ¨å¤±è´¥è¿”å›é»˜è®¤åŒ—äº¬ã€‚


### éŸ³ä¹

- [Meting API](https://github.com/metowolf/Meting) è§£æç½‘æ˜“äº‘/QQéŸ³ä¹çš„æ­Œå•æ’­æ”¾åœ°å€ï¼Œæ¨èè‡ªè¡Œéƒ¨ç½²ã€‚

### ä¸€è¨€

- [Hitokoto API](https://hitokoto.cn) è·å–æ¯æ—¥ä¸€å¥åŠ±å¿—/æ–‡è‰ºè¯­å¥ã€‚

### å£çº¸
- [éšæœºäºŒæ¬¡å…ƒå£çº¸](https://img.paulzzh.com/touhou/random)
- [å¿…åº”æ¯æ—¥ä¸€å›¾](https://api.vore.top/api/Bing) 


## âš™ï¸ éƒ¨ç½²æ–¹æ³•

### 1. [Vercel (æ¨è)](https://vercel.com)

æœ€ç®€å•å¿«æ·çš„éƒ¨ç½²æ–¹å¼ã€‚

1.  Fork æœ¬é¡¹ç›®åˆ°ä½ çš„ Githubã€‚
2.  ç™»å½• [Vercel](https://vercel.com/)ï¼Œç‚¹å‡» **New Project**ã€‚
3.  å¯¼å…¥ä½ çš„ Github ä»“åº“ã€‚
4.  **é‡è¦**ï¼šåœ¨ **Environment Variables** ä¸­å¡«å…¥ `.env` é‡Œçš„ç¯å¢ƒå˜é‡ (å¦‚ `VITE_AMAP_KEY`)ã€‚
5.  ç‚¹å‡» **Deploy**ã€‚Vercel ä¼šè‡ªåŠ¨è¯†åˆ« Vite æ¡†æ¶å¹¶å®Œæˆæ„å»ºã€‚

### 2. [Cloudflare Pages ](https://pages.cloudflare.com)

1.  ç™»å½• [Cloudflare Dashboard - Pages](https://pages.cloudflare.com)ï¼Œç‚¹å‡» **åˆ›å»ºåº”ç”¨ç¨‹åº** æˆ–è¿›å…¥ä½ å·²æœ‰çš„é¡¹ç›®ã€‚
2.  è¿æ¥ä½ çš„ Github è´¦æˆ·å¹¶é€‰æ‹©ä»“åº“ã€‚
3.  **æ„å»ºè®¾ç½®**:
    *   **æ¡†æ¶é¢„è®¾**: `Vue` æˆ– `Vite`
    *   **æ„å»ºå‘½ä»¤**: `npm run build`
    *   **æ„å»ºè¾“å‡ºç›®å½•**: `dist`
4.  **ç¯å¢ƒå˜é‡**: åœ¨è®¾ç½®ä¸­æ·»åŠ  `.env` é‡Œçš„å˜é‡ã€‚
5.  ç‚¹å‡» **Save and Deploy**ã€‚
6.  **éƒ¨ç½²åœ°å€**: éƒ¨ç½²æˆåŠŸåï¼Œä½ å¯ä»¥åœ¨ Cloudflare Pages **é¡¹ç›®æ¦‚è§ˆé¡µé¢**æ‰¾åˆ°åº”ç”¨çš„è®¿é—®åœ°å€ï¼ˆé€šå¸¸åœ¨é¡µé¢çš„é¡¶éƒ¨æˆ–æ¦‚è§ˆå¡ç‰‡ä¸­ï¼‰ã€‚

### 3. Docker éƒ¨ç½²

é¡¹ç›®å·²å†…ç½® `Dockerfile` å’Œ `nginx.conf` ä¼˜åŒ–é…ç½®ã€‚

**æ„å»ºé•œåƒ**:
```bash
docker build -t clean-home .
```

**è¿è¡Œå®¹å™¨**:
```bash
docker run -d -p 8080:3000 \
  -e VITE_AMAP_KEY="ä½ çš„é«˜å¾·Key" \
  -e VITE_QWEATHER_KEY="ä½ çš„å’Œé£Key" \
  -e VITE_QWEATHER_HOST="ä½ çš„å’Œé£API HOST" \
  -e VITE_MUSIC_API="éŸ³ä¹API" \
  # --- åå°ç®¡ç†é…ç½® (å¯é€‰) ---
  -e GITHUB_TOKEN="ghp_xxxx" \
  -e REPO_OWNER="yourname" \
  -e REPO_NAME="Clean-Home" \
  -e ADMIN_PASSWORD="password123" \
  --name my-home clean-home
```
*æ³¨æ„ï¼šç¯å¢ƒå˜é‡éœ€è¦åœ¨ build é˜¶æ®µä¼ å…¥ï¼ˆä¿®æ”¹ Dockerfileï¼‰æˆ–è€…åœ¨æ„å»ºå‰ä¿®æ”¹ .env æ–‡ä»¶ã€‚æ¨èç›´æ¥ä¿®æ”¹æœ¬åœ° .env æ–‡ä»¶åå† buildã€‚*

### 4. æœåŠ¡å™¨æ‰‹åŠ¨éƒ¨ç½² (Nginx)

1.  **æœ¬åœ°æ„å»º**:
    ```bash
    # ç¡®ä¿å·²åˆ›å»ºä¿®æ”¹ .env é…ç½®
    npm run build
    ```
2.  **ä¸Šä¼ æ–‡ä»¶**: å°†ç”Ÿæˆçš„ `dist/` ç›®å½•ä¸Šä¼ åˆ°æœåŠ¡å™¨ (ä¾‹å¦‚ `/var/www/clean-home`)ã€‚
3.  **Nginx é…ç½®**:
    é¡¹ç›®æ ¹ç›®å½•æä¾›äº†ä¸€ä¸ªä¼˜åŒ–è¿‡çš„ `nginx.conf`ï¼Œä½ å¯ä»¥å‚è€ƒå®ƒé…ç½®ä½ çš„æœåŠ¡å™¨ã€‚æ ¸å¿ƒé…ç½®å¦‚ä¸‹ï¼š
    ```nginx
    server {
        listen 80;
        root /var/www/clean-home; # æŒ‡å‘ä¸Šä¼ çš„ dist ç›®å½•
        
        # å¼€å¯ Gzip é™æ€å‹ç¼© (é¡¹ç›®å·²å†…ç½® .gz ç”Ÿæˆ)
        gzip_static on; 
        
        location / {
            # è§£å†³ SPA è·¯ç”±åˆ·æ–° 404 é—®é¢˜
            try_files $uri $uri/ /index.html;
        }
    }
    ```




## ğŸ“ ç›®å½•ç»“æ„

ä»¥ä¸‹æ˜¯é¡¹ç›®çš„å…³é”®æ–‡ä»¶å’Œç›®å½•ç»“æ„ï¼š

```
â”œâ”€â”€ public/          # é™æ€èµ„æº 
â”‚   â”œâ”€â”€ font/        # å­—ä½“èµ„æº
â”‚   â””â”€â”€ icon/        # logoå’Œå¤´åƒ
â”œâ”€â”€ api/             # Vercel Serverless Functions (åå°ç®¡ç† API)
â”œâ”€â”€ functions/api/   # Cloudflare Pages Functions (åå°ç®¡ç† API)
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/         # å‰ç«¯ API å°è£… 
â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â””â”€â”€ backgrounds/ # è‡ªåŠ¨æ‰«æèƒŒæ™¯å›¾ç‰‡ (è¯·å°†èƒŒæ™¯å›¾æ”¾å…¥æ­¤å¤„ï¼Œæ”¯æŒjpgï¼Œpngï¼Œwebpç­‰ï¼Œä¸éœ€è¦æ”¹å)
â”‚   â”œâ”€â”€ components/  # Vue ç»„ä»¶ 
â”‚   â”œâ”€â”€ composables/ # ç»„åˆå¼ API é€»è¾‘
â”‚   â”œâ”€â”€ config/      # å…¨å±€é…ç½®
â”‚   â”œâ”€â”€ store/       # Pinia çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ utils/       # å·¥å…·å‡½æ•°
â”œâ”€â”€ .env             # ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶ (éœ€è¦æ‰‹åŠ¨åˆ›å»º)
â”œâ”€â”€ Dockerfile       # Docker æ„å»ºé…ç½®
â”œâ”€â”€ nginx.conf       # Nginx æœåŠ¡å™¨é…ç½® 
â”œâ”€â”€ index.html       # å…¥å£æ–‡ä»¶
â””â”€â”€ vite.config.js   # Vite é…ç½®æ–‡ä»¶
```

## ğŸ¤ è´¡çŒ®ä¸è‡´è°¢

æ„Ÿè°¢ä»¥ä¸‹é¡¹ç›®æä¾›çš„çµæ„Ÿä¸èµ„æºï¼š

- **åŸå§‹è®¾è®¡: [imsyy/home](https://github.com/imsyy/home)**
- **[VORE-API](https://github.com/imsyy/home)**
- **[å°å°API](https://xxapi.cn/)**
- **å›¾æ ‡ï¼š[Remix Icon via Iconify](https://icon-sets.iconify.design/)**:
- **è®¿å®¢ç»Ÿè®¡: ä¸è’œå­**